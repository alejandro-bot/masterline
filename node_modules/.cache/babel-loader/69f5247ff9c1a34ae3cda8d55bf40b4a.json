{"remainingRequest":"C:\\laragon\\www\\frontend-masterline\\node_modules\\babel-loader\\lib\\index.js!C:\\laragon\\www\\frontend-masterline\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\laragon\\www\\frontend-masterline\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\laragon\\www\\frontend-masterline\\src\\components\\vx-auto-suggest\\VxAutoSuggest.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\laragon\\www\\frontend-masterline\\src\\components\\vx-auto-suggest\\VxAutoSuggest.vue","mtime":1651762656470},{"path":"C:\\laragon\\www\\frontend-masterline\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\frontend-masterline\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\laragon\\www\\frontend-masterline\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\frontend-masterline\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\laragon\\www\\frontend-masterline\\babel.config.js","mtime":1570233076000},{"path":"C:\\laragon\\www\\frontend-masterline\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\frontend-masterline\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\laragon\\www\\frontend-masterline\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\frontend-masterline\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.array.from\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport _defineProperty from \"C:/laragon/www/frontend-masterline/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es7.object.entries\";\nimport \"core-js/modules/es6.string.starts-with\";\nimport _slicedToArray from \"C:/laragon/www/frontend-masterline/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport \"core-js/modules/es7.object.values\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.number.constructor\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  props: {\n    placeholder: {\n      type: String,\n      default: 'Search..'\n    },\n    data: {\n      type: Object,\n      required: true\n    },\n    initalData: {\n      type: Object,\n      default: function _default() {\n        return new Object();\n      }\n    },\n    inputClassses: {\n      type: [String, Object, Array]\n    },\n    autoFocus: {\n      type: Boolean,\n      default: false\n    },\n    showPinned: {\n      type: Boolean,\n      default: false\n    },\n    searchLimit: {\n      type: Number,\n      default: 4\n    },\n    hideGroupTitle: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data: function data() {\n    return {\n      searchQuery: '',\n      filteredData: {},\n      currentSelected: -1,\n      inputFocused: false,\n      insideSuggestions: false\n    };\n  },\n  watch: {\n    // UPDATE SUGGESTIONS LIST\n    searchQuery: function searchQuery(val) {\n      var _this = this;\n\n      this.$emit('input', val);\n\n      if (val == '') {\n        this.inputInit();\n      } else {\n        var queried_data = {};\n        var data_grps = Object.keys(this.data);\n        data_grps.forEach(function (grp, i) {\n          queried_data[data_grps[i]] = _this.filter_grp(_this.data[grp]);\n        }); // Check if any of group has at least one queried item\n\n        if (!Object.values(queried_data).some(function (obj) {\n          return obj.length;\n        })) {\n          this.currentSelected = -1;\n        }\n\n        this.filteredData = queried_data;\n      }\n    },\n    autoFocus: function autoFocus(val) {\n      if (val) this.focusInput();else this.searchQuery = '';\n    },\n    filteredData: function filteredData(val) {\n      // Auto Select first item if it's not item-404\n      var grp_index = null;\n\n      var _iterator = _createForOfIteratorHelper(Object.values(val).entries()),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var _step$value = _slicedToArray(_step.value, 2),\n              index = _step$value[0],\n              grp_suggestions = _step$value[1];\n\n          if (grp_suggestions.length) {\n            grp_index = index;\n            break;\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      if (grp_index != null) this.currentSelected = grp_index + \".0\";\n    }\n  },\n  methods: {\n    escPressed: function escPressed() {\n      this.$emit('closeSearchbar');\n      this.searchQuery = '';\n    },\n    filter_grp: function filter_grp(grp) {\n      var _this2 = this;\n\n      var exactEle = grp.data.filter(function (item) {\n        return item[grp.key].toLowerCase().startsWith(_this2.searchQuery.toLowerCase());\n      });\n      var containEle = grp.data.filter(function (item) {\n        return !item[grp.key].toLowerCase().startsWith(_this2.searchQuery.toLowerCase()) && item[grp.key].toLowerCase().indexOf(_this2.searchQuery.toLowerCase()) > -1;\n      });\n      return exactEle.concat(containEle).slice(0, this.searchLimit);\n    },\n    inputInit: function inputInit() {\n      if (Object.entries(this.initalData).length === 0 && this.initalData.constructor === Object) {\n        this.filteredData = {};\n      } else {\n        this.filteredData = this.initalData;\n      }\n    },\n    updateInputFocus: function updateInputFocus() {\n      var _this3 = this;\n\n      var val = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      if (val) {\n        if (this.searchQuery == '') this.inputInit();\n        setTimeout(function () {\n          _this3.inputFocused = true;\n        }, 100);\n      } else {\n        if (this.insideSuggestions) return;\n        setTimeout(function () {\n          _this3.inputFocused = false;\n        }, 100);\n        this.escPressed();\n      }\n    },\n    suggestionSelected: function suggestionSelected() {\n      if (this.currentSelected > -1) {\n        var _this$currentSelected = this.currentSelected.split(\".\"),\n            _this$currentSelected2 = _slicedToArray(_this$currentSelected, 2),\n            grp_index = _this$currentSelected2[0],\n            item_index = _this$currentSelected2[1];\n\n        var grp_of_selected_item = Object.keys(this.data)[grp_index];\n        var selected_item = this.filteredData[grp_of_selected_item][item_index];\n        this.$emit('selected', _defineProperty({}, grp_of_selected_item, selected_item));\n        this.searchQuery = '';\n      }\n    },\n    increaseIndex: function increaseIndex() {\n      var val = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      var _this$currentSelected3 = this.currentSelected.split(\".\"),\n          _this$currentSelected4 = _slicedToArray(_this$currentSelected3, 2),\n          grp_i = _this$currentSelected4[0],\n          item_i = _this$currentSelected4[1];\n\n      var grp_arr = Object.entries(this.filteredData);\n      var active_grp_total_items = grp_arr[grp_i][1].length;\n\n      if (val) {\n        // If active item is not of last item in grp\n        if (active_grp_total_items - 1 > item_i) {\n          this.currentSelected = grp_i + \".\" + (Number(item_i) + 1); // If active item grp is not last in grp list\n        } else if (grp_i < grp_arr.length - 1) {\n          this.currentSelected = Number(grp_i) + 1 + \".0\";\n        }\n      } else {\n        // If active item is not of first item in grp\n        if (Number(item_i)) {\n          this.currentSelected = grp_i + \".\" + (Number(item_i) - 1); // If active item grp  is not first in grp list\n        } else if (Number(grp_i)) {\n          this.currentSelected = Number(grp_i) - 1 + \".\" + (grp_arr[grp_i - 1][1].length - 1);\n        }\n      }\n    },\n    focusInput: function focusInput() {\n      this.$refs.input.$el.querySelector('input').focus();\n    }\n  },\n  mounted: function mounted() {\n    if (this.autoFocus) this.focusInput();\n  }\n};",{"version":3,"mappings":"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","names":["props","placeholder","type","String","default","data","Object","required","initalData","inputClassses","Array","autoFocus","Boolean","showPinned","searchLimit","Number","hideGroupTitle","searchQuery","filteredData","currentSelected","inputFocused","insideSuggestions","watch","val","$emit","inputInit","queried_data","data_grps","keys","forEach","grp","i","filter_grp","values","some","obj","length","focusInput","grp_index","entries","index","grp_suggestions","methods","escPressed","exactEle","filter","item","key","toLowerCase","startsWith","containEle","indexOf","concat","slice","constructor","updateInputFocus","setTimeout","suggestionSelected","split","item_index","grp_of_selected_item","selected_item","increaseIndex","grp_i","item_i","grp_arr","active_grp_total_items","$refs","input","$el","querySelector","focus","mounted"],"sourceRoot":"src/components/vx-auto-suggest","sources":["C:/laragon/www/frontend-masterline/src/components/vx-auto-suggest/VxAutoSuggest.vue"],"sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default{\n  props: {\n    placeholder: {\n      type: String,\n      default: 'Search..'\n    },\n    data: {\n      type: Object,\n      required: true,\n    },\n    initalData: {\n      type: Object,\n      default: () => new Object\n    },\n    inputClassses: {\n      type: [String, Object, Array],\n    },\n    autoFocus: {\n      type: Boolean,\n      default: false,\n    },\n    showPinned: {\n      type: Boolean,\n      default: false\n    },\n    searchLimit: {\n      type: Number,\n      default: 4\n    },\n    hideGroupTitle: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      searchQuery: '',\n      filteredData: {},\n      currentSelected: -1,\n      inputFocused: false,\n      insideSuggestions: false,\n    }\n  },\n  watch: {\n    // UPDATE SUGGESTIONS LIST\n    searchQuery(val) {\n      this.$emit('input', val)\n\n      if(val == '') {\n        this.inputInit()\n      }else {\n        let queried_data = {}\n        const data_grps = Object.keys(this.data)\n\n        data_grps.forEach((grp, i) => {\n          queried_data[data_grps[i]] = this.filter_grp(this.data[grp])\n        })\n\n        // Check if any of group has at least one queried item\n        if(!Object.values(queried_data).some(obj => obj.length)) {\n          this.currentSelected = -1\n        }\n\n        this.filteredData = queried_data\n      }\n    },\n    autoFocus(val) {\n      if(val) this.focusInput()\n      else this.searchQuery = ''\n    },\n    filteredData(val) {\n      // Auto Select first item if it's not item-404\n      let grp_index = null\n\n      for(let[index, grp_suggestions] of Object.values(val).entries()) {\n        if(grp_suggestions.length) {\n          grp_index = index\n          break\n        }\n      }\n\n      if(grp_index != null) this.currentSelected = grp_index + \".0\"\n    }\n  },\n  methods: {\n    escPressed() {\n      this.$emit('closeSearchbar')\n      this.searchQuery = ''\n    },\n    filter_grp(grp) {\n      let exactEle = grp.data.filter((item) => {\n        return item[grp.key].toLowerCase().startsWith(this.searchQuery.toLowerCase())\n      })\n      let containEle = grp.data.filter((item) => {\n        return !item[grp.key].toLowerCase().startsWith(this.searchQuery.toLowerCase()) && item[grp.key].toLowerCase().indexOf(this.searchQuery.toLowerCase()) > -1\n      })\n      return exactEle.concat(containEle).slice(0,this.searchLimit)\n    },\n    inputInit() {\n      if(Object.entries(this.initalData).length === 0 && this.initalData.constructor === Object) {\n        this.filteredData = {}\n      }else {\n        this.filteredData = this.initalData\n      }\n    },\n    updateInputFocus(val = true) {\n      if(val) {\n        if(this.searchQuery == '') this.inputInit()\n        setTimeout(() => {\n          this.inputFocused = true\n        }, 100)\n      }\n      else {\n        if(this.insideSuggestions) return\n        setTimeout(() => {\n          this.inputFocused = false\n        }, 100)\n        this.escPressed()\n      }\n    },\n    suggestionSelected() {\n      if(this.currentSelected > -1) {\n\n        const [grp_index, item_index] = this.currentSelected.split(\".\")\n\n        const grp_of_selected_item = Object.keys(this.data)[grp_index]\n        const selected_item = this.filteredData[grp_of_selected_item][item_index]\n\n        this.$emit('selected', {[grp_of_selected_item]: selected_item})\n\n        this.searchQuery = ''\n      }\n    },\n    increaseIndex(val = true) {\n      const [grp_i, item_i] = this.currentSelected.split(\".\")\n\n      const grp_arr = Object.entries(this.filteredData)\n      const active_grp_total_items = grp_arr[grp_i][1].length\n\n\n        if(val) {\n          // If active item is not of last item in grp\n          if(active_grp_total_items-1 > item_i) {\n            this.currentSelected = grp_i + \".\" +  (Number(item_i)+1)\n\n          // If active item grp is not last in grp list\n          }else if(grp_i < grp_arr.length-1) {\n            this.currentSelected = Number(grp_i)+1 + \".0\"\n          }\n        }else {\n          // If active item is not of first item in grp\n          if(Number(item_i)) {\n            this.currentSelected = grp_i + \".\" +  (Number(item_i)-1)\n\n          // If active item grp  is not first in grp list\n          }else if(Number(grp_i)) {\n            this.currentSelected = (Number(grp_i)-1) + \".\" + (grp_arr[grp_i-1][1].length-1)\n          }\n        }\n    },\n    focusInput() {\n      this.$refs.input.$el.querySelector('input').focus()\n    }\n  },\n  mounted() {\n    if(this.autoFocus) this.focusInput()\n  }\n}\n"]}]}